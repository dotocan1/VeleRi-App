(self["webpackChunkveleri_app"]=self["webpackChunkveleri_app"]||[]).push([[726],{726:(e,l,i)=>{"use strict";i.r(l),i.d(l,{default:()=>H});var t=i(3673);const a=(0,t.HX)("data-v-19085a1b");(0,t.dD)("data-v-19085a1b");const o={class:"row"},s=(0,t.Uk)("Sign out "),n={class:"row"},d=(0,t.Wm)("div",{class:"col-10"},[(0,t.Wm)("h4",{class:"text-h4 q-mt-md"},"Unesite osobne podatke:")],-1),c={class:"col-12 q-mb-md"},m={class:"col-12 q-mb-md"},u={class:"col-12 q-mb-md"},r={class:"col-12 q-mb-md"},h={class:"col-2 q-mb-md"},b=(0,t.Uk)("Spremi"),C={class:"col-1 q-ml-md"},p=(0,t.Uk)("Izmijeni"),k={class:"row"},v=(0,t.Wm)("div",{class:"col-10"},[(0,t.Wm)("h4",{class:"text-h4 q-mt-md"},"Omogucite vidljivost podataka:")],-1),W={class:"col-12"},V={class:"col-12"},B={class:"col-12"},g={class:"col-12"},U={class:"col-12"},I=(0,t.Wm)("div",{class:"row"},[(0,t.Wm)("h4",{class:"text-h4 q-mt-md col-12"},"Pripadni QR kod:"),(0,t.Wm)("img",{id:"qr-code",class:"col-6 justify-center items-center",alt:""}),(0,t.Wm)("a",{id:"img-download",download:"qr-code.png"},"Download image")],-1);(0,t.Cn)();const j=a(((e,l,i,j,q,f)=>{const w=(0,t.up)("q-btn"),x=(0,t.up)("q-input"),E=(0,t.up)("q-checkbox"),$=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)($,null,{default:a((()=>[(0,t.Wm)("div",o,[(0,t.Wm)("div",null,[(0,t.Wm)(w,{onClick:f.logout},{default:a((()=>[s])),_:1},8,["onClick"])])]),(0,t.Wm)("div",n,[d,(0,t.Wm)("div",c,[(0,t.Wm)(x,{outlined:"",modelValue:q.email,"onUpdate:modelValue":l[1]||(l[1]=e=>q.email=e),label:"Unesite email",disable:q.disabledInput},null,8,["modelValue","disable"])]),(0,t.Wm)("div",m,[(0,t.Wm)(x,{outlined:"",modelValue:q.telephone,"onUpdate:modelValue":l[2]||(l[2]=e=>q.telephone=e),label:"Unesite broj telefona",disable:q.disabledInput},null,8,["modelValue","disable"])]),(0,t.Wm)("div",u,[(0,t.Wm)(x,{outlined:"",modelValue:q.cabinet,"onUpdate:modelValue":l[3]||(l[3]=e=>q.cabinet=e),label:"Unesite pripadni kabinet",disable:q.disabledInput},null,8,["modelValue","disable"])]),(0,t.Wm)("div",r,[(0,t.Wm)(x,{outlined:"",modelValue:q.carrier,"onUpdate:modelValue":l[4]||(l[4]=e=>q.carrier=e),label:"Unesite kolegije gdje je profesor nositelj",disable:q.disabledInput},null,8,["modelValue","disable"])]),(0,t.Wm)("div",h,[(0,t.Wm)(w,{onClick:f.submit},{default:a((()=>[b])),_:1},8,["onClick"])]),(0,t.Wm)("div",C,[(0,t.Wm)(w,{onClick:f.editForms},{default:a((()=>[p])),_:1},8,["onClick"])])]),(0,t.Wm)("div",k,[v,(0,t.Wm)("div",W,[(0,t.Wm)(E,{modelValue:q.emailCB,"onUpdate:modelValue":l[5]||(l[5]=e=>q.emailCB=e),label:"Vidljiv email",onClick:f.submitCheckboxes},null,8,["modelValue","onClick"])]),(0,t.Wm)("div",V,[(0,t.Wm)(E,{modelValue:q.telephoneCB,"onUpdate:modelValue":l[6]||(l[6]=e=>q.telephoneCB=e),label:"Vidljiv broj telefona",onClick:f.submitCheckboxes},null,8,["modelValue","onClick"])]),(0,t.Wm)("div",B,[(0,t.Wm)(E,{modelValue:q.cabinetCB,"onUpdate:modelValue":l[7]||(l[7]=e=>q.cabinetCB=e),label:"Vidljiv kabinet",onClick:f.submitCheckboxes},null,8,["modelValue","onClick"])]),(0,t.Wm)("div",g,[(0,t.Wm)(E,{modelValue:q.consultationsCB,"onUpdate:modelValue":l[8]||(l[8]=e=>q.consultationsCB=e),label:"Vidljivo vrijeme konzultacija",onClick:f.submitCheckboxes},null,8,["modelValue","onClick"])]),(0,t.Wm)("div",U,[(0,t.Wm)(E,{modelValue:q.carrierCB,"onUpdate:modelValue":l[9]||(l[9]=e=>q.carrierCB=e),label:"Vidljive informacije o nositelju kolegija",onClick:f.submitCheckboxes},null,8,["modelValue","onClick"])]),I])])),_:1})}));var q=i(1959);const f={data(){return{emailCB:(0,q.iH)(!1),telephoneCB:(0,q.iH)(!1),cabinetCB:(0,q.iH)(!1),consultationsCB:(0,q.iH)(!1),carrierCB:(0,q.iH)(!1),email:"",telephone:"",cabinet:"",consultations:"",carrier:"",menuId:"",usersDataId:"",disabledInput:!0}},methods:{logout(){this.$auth.signOut().then(this.$router.push("/"))},submit(){this.disabledInput=!0;const e=this.$db.collection("UsersData").doc(this.usersDataId);return e.update({Email:this.email,Telephone:this.telephone,Cabinet:this.cabinet,Consultations:this.consultations,Carrier:this.carrier})},editForms(){this.disabledInput=!1},submitCheckboxes(){this.disabledInput=!0;const e=this.$db.collection("Menu").doc(this.menuId);return e.update({isEmail:this.emailCB,isTelephone:this.telephoneCB,isCabinet:this.cabinetCB,isConsultations:this.consultationsCB,isCarrier:this.carrierCB})}},mounted(){const e=this.$auth.currentUser.uid,l=this.$db.collection("Menu").where("UserId","==",e),i=this.$db.collection("UsersData").where("UserId","==",e);l.get().then((e=>{e.forEach((e=>{const l=e.data();this.menuId=e.id,this.emailCB=!!l.isEmail,this.telephoneCB=!!l.isTelephone,this.cabinetCB=!!l.isCabinet,this.consultationsCB=!!l.isConsultations,this.carrierCB=!!l.isCarrier}))})).catch((e=>{console.log("Error getting documents: ",e)})),i.get().then((e=>{e.forEach((e=>{const l=e.data();this.usersDataId=e.id,this.email=l.Email,this.telephone=l.Telephone,this.cabinet=l.Cabinet,this.consultations=l.Consultations,this.carrier=l.Carrier}))}));const t=document.getElementById("qr-code");t.src=`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${e}`;const a=document.getElementById("img-download");a.href=`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${e}`}};var w=i(4379),x=i(6114),E=i(1206),$=i(1420),_=i(7518),D=i.n(_);f.render=j,f.__scopeId="data-v-19085a1b";const H=f;D()(f,"components",{QPage:w.Z,QBtn:x.Z,QInput:E.Z,QCheckbox:$.Z})}}]);